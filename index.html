<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors Game!</title>
</head>
<body>

  <script>

    function userPlay(){
        playerSelection = prompt("Please choose: Rock, Paper, or Scissors?");
        return playerSelection = playerSelection.toLowerCase();
    }
    function computerPlay(){
        let randomInt = Math.floor(Math.random() * 3);
        if (randomInt == 0){
            return computerSelection = 'rock';
        } else if (randomInt == 1){
            return computerSelection = 'paper';
        }
            return computerSelection = 'scissors';

    }

    function playRound(playerSelection, computerSelection){

        if((playerSelection == 'rock' && computerSelection == 'scissors') || (playerSelection == 'paper' && computerSelection == 'rock') || (playerSelection == 'scissors' && computerSelection == 'paper')){
            alert('You win! ' + playerSelection + ' beats ' + computerSelection + "!");
            return result = 'win';
        } else if ((playerSelection == 'rock' && computerSelection == 'paper') || (playerSelection == 'paper' && computerSelection == 'scissors') || (playerSelection == 'scissors' && computerSelection == 'rock')){
            alert('You lose... ' + computerSelection + ' beats ' + playerSelection + '...');
            return result = 'lose';
        } else if (playerSelection == computerSelection){
            alert('You tied.. You both picked ' + playerSelection + '.');
            return result = 'tie';
        } else {
            alert('You either input your choice incorrectly or did not answer, try again. If you wish to exit the game, press Escape.');
            return result = 'tie';
        }
    }

    function game(){
        let playerScore = 0;
        let computerScore = 0;

        while(playerScore < 3 && computerScore < 3){
            userPlay();
            computerPlay();
            playRound(playerSelection, computerSelection);
            if (result == 'win'){
                ++playerScore;
            } else if (result == 'lose'){
                ++computerScore;
            } else if (result == 'tie'){

            }                
            alert('Player Score: ' + playerScore + ' Computer Score: ' + computerScore);
        }

        if (playerScore == 3){
            alert('CONGRATULATIONS! YOU WIN!');
        } else if (computerScore == 3){
            alert('Oh dear...You lose...');
        }
        alert('Hit refresh to play again.');
    }

    game();
  </script>

</body>
</html>